<div class="row">
  <div class="col-{{ isFirstDiv ? '12' : '0' }}">

    <div class="card" *ngIf="isFirstDiv">

      <div class="card-header" [ngClass]="{'bg-success': isFirstDiv}">
        <div class="row">
          <div class="col-6 text-white">
            <h4> Vendor List</h4>
          </div>
          <div class="col-6 text-end">
            <button class="btn btn-secondary" (click)="isSecondDivVisible = true; isFirstDiv = false">Add</button>
          </div>
        </div>

      </div>

      <div class="card-body">
        <table class="table table-striped table-hover table-bordered">
          <thead>
            <tr>
              <th>SrNo</th>
              <th>Vendor Name</th>
              <th> Primary ContactNo</th>
              <th>EmailId</th>
              <th>Secondary ContactNo</th>
              <th>City</th>
              <th>State</th>
              <th>Action</th>

            </tr>
          </thead>
          <tbody>
            <ng-container *ngIf="!istableloader">
              <tr *ngFor="let vendor of vendorarray;let sr=index">
                <td>{{sr+1}}</td>
                <td>{{vendor.vendorName}}</td>
                <td>{{vendor.primaryContactNo}}</td>
                <td>{{vendor.emailId}}</td>
                <td>{{vendor.secondaryContactNo}}</td>
                <td>{{vendor.city}}</td>
                <td>{{vendor.state}}</td>
                <td> <i class="fa fa-edit text-success  text-success m-1" (click)="editvendor(vendor.vendorId)"></i>
                  <i class="fa fa-trash text-danger" (click)="vendordelete(vendor.vendorId)"></i>
                </td>
              </tr>
            </ng-container>
            <ng-container *ngIf="istableloader">
              <tr>
                <td colspan="8">
                  <div class="spinner-border text-primary">

                  </div>
                  <div class="spinner-border text-secondary">

                  </div>
                  <div class="spinner-border text-success">

                  </div>
                  <div class="spinner-border text-danger">

                  </div>
                  <div class="spinner-border text-warning">

                  </div>
                  <div class="spinner-border text-info">

                  </div>
                  <div class="spinner-border text-light">

                  </div>
                  <div class="spinner-border text-dark">

                  </div>
                </td>
              </tr>

            </ng-container>
          </tbody>
        </table>
      </div>

    </div>
  </div>
  <div class="col-{{ isSecondDivVisible ? '12' : '0' }}" *ngIf="isSecondDivVisible">
    <!-- Second Div -->
    <div class="card">

      <div class="card-header" [ngClass]="{'bg-success': isSecondDivVisible}">
        <div class="row">
          <div class="col-6 text-white">
            <h4> New Vendor Registration </h4>
          </div>
          <div class="col-6 text-end">
            <button class="btn btn-danger text-end"
              (click)="isSecondDivVisible = false; isFirstDiv = true">Close</button>
          </div>
        </div>

      </div>
      <!-- ... Rest of the code for the second div ... -->
      <div class="card-body">
        <div class="container">
          <div class="mybox  px-2 py-4">

            <form #form="ngForm">
              <div class="row">

                <div class="col-4">
                  <label for="">Vendor Name </label>
                  <input type="text" name="vendorName" #vendor="ngModel" placeholder=" Enter Name" required
                    minlength="6" maxlength="20" class="form-control" [(ngModel)]="vendorobj.vendorName">
                  <div class="text-danger" *ngIf="vendor.touched || vendor.dirty ">
                    <span *ngIf="vendor.errors?.['required']"> <i class="fa-light fa-eye" style="color: #e7eaee;"></i>This Is Required</span>


                  </div>

                </div>
                <div class="col-4">
                  <label for="">Primary ContactNo</label>
                  <input type="text" name="primaryContactNo" #contact="ngModel" placeholder=" Enter Contactno" required
                    pattern="[789][0-9]{9}" class="form-control" [(ngModel)]="vendorobj.primaryContactNo">
                  <div class="text-danger" *ngIf="contact.touched || contact.dirty ">
                    <span *ngIf="contact.errors?.['required']">This is required</span>
                    <span *ngIf="contact.errors?.['pattern']">pattern is required</span>
                  </div>

                </div>
                <div class="col-4">
                  <label for="">EmailId</label>
                  <input type="text" name="emailId" #email="ngModel" required
                    pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" class="form-control" placeholder=" Enter EmailId"
                    [(ngModel)]="vendorobj.emailId">
                  <div class="text-danger" *ngIf="email.touched || email.dirty ">
                    <span *ngIf="email.errors?.['required']"> This Is Required</span>
                    <span *ngIf="email.errors?.['pattern']"> pattern Is Required</span>
                  </div>

                </div>
              </div>
              <div class="row mt-2">
                <div class="col-4">
                  <label for="">GSTNo</label>
                  <input type="text" name="gSTNo" required #gst="ngModel"
                    pattern="^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$" class="form-control"
                    placeholder=" Enter GSTNo" [(ngModel)]="vendorobj. gSTNo">
                  <div class="text-danger" *ngIf="gst.touched || gst.dirty ">
                    <span *ngIf="gst.errors?.['required']">This is required</span>
                    <span *ngIf="gst.errors?.['pattern']">pattern is required</span>
                  </div>

                </div>
                <div class="col-4">
                  <label for="">City</label>
                  <input type="text" name="city" class="form-control" [(ngModel)]="vendorobj.city" placeholder=" Enter City">
                </div>
                <div class="col-4">
                  <label for="">State</label>
                  <input type="text" name="state" class="form-control" [(ngModel)]="vendorobj. state"
                    placeholder=" Enter State">
                </div>

              </div>
              <!--<div class="row ms-2 mt-3">
                <div class="col-6">
                  <label for="">FacebookUrl :</label>
                  <input type="text" name="facebookUrl" class="form-control" [(ngModel)]="vendorobj.facebookUrl">
                </div>
                <div class="col-6">
                  <label for="">InstagramUrl :</label>
                  <input type="text" name="instagramUrl" class="form-control" [(ngModel)]="vendorobj. instagramUrl">
                </div>

              </div>-->
              <div class="row mt-2">
                <div class="col-4">
                  <label for="">Owner Name</label>
                  <input type="text" name="ownerName" class="form-control" [(ngModel)]="vendorobj.ownerName"
                    placeholder=" Enter Owner Name">
                </div>
                <div class="col-4">
                  <label for="">Owner PanCard No</label>
                  <input type="text" name="ownerPanCardNo" class="form-control" [(ngModel)]="vendorobj. ownerPanCardNo"
                    placeholder="PanCardNo">
                </div>
                <div class="col-4">
                  <label for="">Business PanNo</label>
                  <input type="text" name="businessPanNo" class="form-control" placeholder=" Enter BusinessPanNo"
                    [(ngModel)]="vendorobj.businessPanNo">
                </div>

              </div>
              <div class="row mt-2">
                <div class="col-4">
                  <label for="">Office Name</label>
                  <input type="text" name="officeName" placeholder=" Enter OfficeName" class="form-control"
                    [(ngModel)]="vendorobj.officeName">
                </div>
                <div class="col-4">
                  <label for="">Support EmailId </label>
                  <input type="text" name="supportEmailId" class="form-control" [(ngModel)]="vendorobj.supportEmailId"
                    placeholder=" Enter Support EmailId">
                </div>
                <div class="col-4">
                  <label for="">Secondary ContactNo</label>
                  <input type="text" name="secondaryContactNo" #Secondary="ngModel" required pattern="[789][0-9]{9}"
                    class="form-control" class="form-control" placeholder="Enter second Contact"
                    [(ngModel)]="vendorobj. secondaryContactNo">
                  <div class="text-danger" *ngIf="Secondary.touched || Secondary.dirty ">
                    <span *ngIf="Secondary.errors?.['required']">This is required</span>
                    <span *ngIf="Secondary.errors?.['pattern']">pattern is required</span>
                  </div>
                </div>

              </div>

              <div class="row mt-2">
                <div class="col-4">
                  <label for="">Address1</label>
                  <input type="text" name="address1" class="form-control" placeholder="  Address1"
                    [(ngModel)]="vendorobj.address1">
                </div>

                <div class="col-4">
                  <label for="">PinCode</label>
                  <input type="text" name="pinCode" #pincode="ngModel" required placeholder=" Enter  PinCode"
                    class="form-control" [(ngModel)]="vendorobj.pinCode">
                  <div class="text-danger" *ngIf="pincode.touched || pincode.dirty ">
                    <span *ngIf="pincode.errors?.['required']">This is required</span>
                  </div>
                </div>

              </div>


              <div class="row text-center mt-3">
                <div class="col-4">
                  <button class="btn btn-secondary " (click)="reset()"> Reset</button>
                </div>
                <div class="col-4">
                  <button class="btn btn-success " *ngIf="vendorobj.vendorId == 0" (click)="onSavevendors()"
                    [disabled]="form.invalid">
                    <span *ngIf="isapicalload" class="spinner-border spinner-border-sm"></span>Save </button>
                  <button class="btn btn-success " *ngIf="vendorobj.vendorId!== 0" (click)="onupdatevendors()">update
                  </button>

                </div>
              </div>
            </form>

          </div>
        </div>

      </div>
    </div>
  </div>
</div>
